<!DOCTYPE html>

<html>
<head>
    <title>Parse Signup Test</title>
    <link href="css/style.css" media="all" rel="stylesheet" type="text/css" />
</head>

<body>
    <div id="wrapper">
        <form id="signupAdminForm">
            <h3>Create Bar Admin User</h3>
            <input id="signupBarName" name="signupBarName" placeholder="Bar Name" type="text" class="txtInput" /><br>
            <input id="signupAdminUsername" name="signupAdminUsername" placeholder="Username" type="text" class="txtInput" /><br>
            <input id="signupAdminEmail" name="signupAdminEmail" placeholder="Your email address" type="email" class="txtInput" /><br>
            <input id="signupAdminPassword" name="signupAdminPassword" placeholder="Password" type="password" class="txtInput" /><br>
            <button type="submit" id="signupSubmit" title="Submit">Submit</button>
        </form>
        <form id="loginForm">
            
        </form>
        <form id="signupUserForm">
            <h3>Create BarStock User for <span id="Barname"></span></h3>
            <input id="signupUsername" name="signupUsername" placeholder="Username" type="text" class="txtInput" /><br>
            <input id="signupPassword" name="signupPassword" placeholder="Password" type="password" class="txtInput" /><br>
            <button type="submit" id="signupSubmit" title="Submit">Submit</button>
        </form>
    </div>
    

<script src="js/jquery.min.js"></script>
<script src="js/jquery.validate.min.js"></script>
<script src="http://www.parsecdn.com/js/parse-1.2.13.min.js"></script>
<script>
    
$(document).ready(function () {
    
    Parse.$ = jQuery;
    // Initialize Parse with your Parse application javascript keys
    Parse.initialize("uyUUfhm9dYAHzt8cSRwr2X1gbobec7LUp9BHYpxz",
                   "HHQGaXvwb0vWOY0m1wM4h2iPSvcqyjNVfbiuj70S");
    
    
    //== Signup Admin ==============================================
    $("#signupAdminForm").validate({
    rules: {
        signupBarName: {
            required: true
      },
        signupAdminUsername: {
            required: true
      },
        signupAdminEmail: {
            required: true,
            email: true    
      },
        signupAdminPassword: {
            required: true,
            minlength: 5
      }
    },
    messages: {
        signupBarName: {
            required: "specify username"
      },
        signupAdminUsername: {
            required: "specify username"
      },
        signupAdminEmail: {
            required: "specify email"
      },
        signupAdminPassword: {
            required: "specify password"
      }
    },
    submitHandler: function (form) { // for demo
        var user = new Parse.User();
        user.set("username", $("#signupAdminUsername").val());
        user.set("password", $("#signupAdminPassword").val());
        user.set("email", $("#signupAdminEmail").val());
 
        // other fields can be set just like with Parse.Object
        user.set("BarName", $("#signupBarName").val());
        user.set("Admin", "Yes");
 
        user.signUp(null, {
            success: function(user) {
                alert("Successful Signup: " + $("#signupAdminUsername").val());
            },
            error: function(user, error) {
                // Show the error message somewhere and let the user try again.
                alert("Error: " + error.code + " " + error.message);
                }
            }); 
            return false;
        }
    });
    
    
});

</script>                
</body>
</html>
